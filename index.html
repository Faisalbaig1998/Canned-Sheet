<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="sources/index.css" />
    <title>Canned Sheet</title>
  </head>
  <body>
    <nav id="navbar">
      <a
        href="pages/opening_closing.html"
        onclick="copyToClipboard(event, this)"
        >Opening + Closing</a
      >
      <div class="copy-text">Text to copy</div>
    </nav>
    <main>
      <h1>Canned Sheet</h1>
      <div id="content">
        <div>
          <p>
            This is a simple HTML page that demonstrates how to copy text to the
            clipboard using the Clipboard API.
          </p>
          <div id="copy-btn">Copy</div>
        </div>
      </div>
      <div id="content">
        <div>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Inventore
            autem facilis nulla amet recusandae. Quis sed incidunt accusamus
            eligendi itaque sint omnis veniam aliquam vel dicta et molestiae
            eaque quas assumenda beatae excepturi, voluptatem officia! Deleniti
            suscipit, esse odit amet atque illum temporibus beatae labore sint.
            Qui nisi distinctio saepe.
          </p>
          <div id="copy-btn">Copy</div>
        </div>
      </div>
    </main>
    <div id="copy-modal">Copied</div>
  </body>
  <script>
    document.addEventListener("click", (e) => {
      var parent = null;
      var text = "";
      if (e.target.id === "copy-btn") {
        parent = e.target.parentElement;
        text = parent.querySelector("p").innerText.trim();
        navigator.clipboard.writeText(text);
        document.getElementById("copy-modal").style.transition = "all 0.3s";
        document.getElementById("copy-modal").style.opacity = "1";
        document.getElementById("copy-modal").style.top = "40%";
        setTimeout(() => {
          document.getElementById("copy-modal").style.opacity = "0";
          document.getElementById("copy-modal").style.top = "50%";
        }, 1000);
      }
      console.log("Copied content: ", text);
      //   console.log(parent.querySelector("p").innerHTML);
      //   console.log(text);
    });
  </script>
</html>
